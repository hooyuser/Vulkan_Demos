language: cpp
sudo: required
os: windows

branches:
  only:
    - master

script:
  - mkdir build
  - cd build
  - cmake -DCMAKE_GENERATOR_PLATFORM=x64 ..
  - cmake ..
  - cmake --build . --config release

deploy:
  provider: releases
  api_key: "GITHUB OAUTH TOKEN"
  file: "build/demos/008_Image_Based_Lighting/Release/008_Image_Based_Lighting.exe"
  skip_cleanup: true
  on:
    tags: true